info:
  license:
    name: MIT
  title: edge-api
  version: 1.0.0
openapi: 3.0.0
paths:
  /images:
    post:
      operationId: createImage
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1.Image"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.Image"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Composes an image on Image Builder
    get:
      operationId: listImages
      parameters:
        - name: limit
          in: query
          description: "field: return number of images until limit is reached."
          schema:
            type: integer
        - name: offset
          in: query
          description: "field: return number of images beginning at the offset."
          schema:
            type: integer
        - name: sort_by
          in: query
          description: "fields: created_at, distribution, name, status. To sort DESC use - before the fields."
          schema:
            type: string
        - name: name
          in: query
          description: "field: filter by name"
          schema:
            type: string
        - name: status
          in: query
          description: "field: filter by status"
          schema:
            type: string
        - name: distribution
          in: query
          description: 'field: filter by distribution'
          schema:
            type: string
        - name: created_at
          in: query
          description: 'field: filter by creation date'
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    example: 100
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/v1.Image"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Lists all images for an account.
  /images/{imageId}/update:
    post:
      operationId: CreateImageUpdate
      parameters:
        - name: imageId
          in: path
          required: true
          description: ImageID
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1.Image"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.Image"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Composes an Update for a image
  /images/{imageId}:
    get:
      operationId: getImage
      parameters:
        - name: imageId
          in: path
          required: true
          description: ImageID
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.Image"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Get an image by id.
  /images/{imageId}/details:
    get:
      operationId: getImageDetail
      parameters:
        - name: imageId
          in: path
          required: true
          description: ImageID
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ImageDetail"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Get an image by id.
  /images/{ostreeCommitHash}/info:
    get:
      operationId: GetImageByOstree
      parameters:
        - name: ostreeCommitHash
          in: path
          required: true
          description: ostreeCommitHash
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.Image"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Get an image by ostree hash.
  /images/{imageId}/status:
    get:
      operationId: getImageStatus
      parameters:
        - name: imageId
          in: path
          required: true
          description: ImageID
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
                properties:
                  Status:
                    type: string
                    example: BUILDING
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Get image status.
      description: This method goes to image builder if the image is still building and updates the status if needed.
  /images/{imageId}/repo:
    get:
      operationId: getImageRepo
      parameters:
        - name: imageId
          in: path
          required: true
          description: ImageID
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.Repo"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Get Image OSTree repo.
      description: Returns the information of the OSTree Repository of a particular Image.
  /images/{imageId}/retry:
    post:
      operationId: retryImage
      parameters:
        - name: imageId
          in: path
          required: true
          description: ImageID
          schema:
            type: integer
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.Image"
          description: Retry is being processed
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Retries building an image from scratch
  /updates:
    post:
      operationId: UpdateDevice
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1.AddUpdate"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                oneOf:
                  - type: array
                    items:
                      $ref: "#/components/schemas/v1.UpdateTransaction"
                  - $ref: "#/components/schemas/v1.APIResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: There was an internal server error.
      summary: Executes a device update.
      description: Executes a device update.
    get:
      operationId: ListUpdates
      parameters:
        - name: sort_by
          in: query
          description: "fields: created_at, updated_at. To sort DESC use - before the fields."
          schema:
            type: string
        - name: created_at
          in: query
          description: 'field: filter by creation date'
          schema:
            type: string
        - name: updated_at
          in: query
          description: 'field: filter by update date'
          schema:
            type: string
        - name: status
          in: query
          description: 'field: filter by status'
          schema:
            type: string
        - name: limit
          in: query
          description: 'field: return number of updates until limit is reached. Default is 30.'
          schema:
            type: integer
        - name: offset
          in: query
          description: 'field: return updates beginning at the given offset.'
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/v1.UpdateTransaction"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: There was an internal server error.
      summary: Gets all device updates.
      description: Gets all device updates.
  /updates/{updateID}:
    get:
      operationId: GetUpdate
      parameters:
        - name: updateID
          in: path
          required: true
          description: An unique ID to identify the update
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.UpdateTransaction"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: The update was not found.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Gets a single requested update.
      description: Gets a single requested update.
  /updates/{updateID}/update-playbook.yml:
    get:
      operationId: GetUpdatePlaybook
      parameters:
        - name: updateID
          in: path
          required: true
          description: An unique ID to identify the update the playbook belongs to
          schema:
            type: integer
      responses:
        "200":
          content:
            text/plain:
              schema:
                type: string
                example: ansible playbook for an update
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: The update was not found.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
  /updates/device/{DeviceUUID}:
    get:
      operationId: GetDeviceByUUID
      parameters:
        - name: DeviceUUID
          in: path
          required: true
          description: DeviceUUID
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.DeviceDetails"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
      summary: Return list of available updates for a device.
      description: Return list of available updates for a device.
  /updates/device/{DeviceUUID}/updates:
    get:
      operationId: GetUpdateAvailableForDevice
      parameters:
        - name: DeviceUUID
          in: path
          required: true
          description: DeviceUUID
          schema:
            type: string
        - name: latest
          in: query
          description: "query the latest or all updates"
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    Image:
                      $ref: "#/components/schemas/v1.Image"
                    PackageDiff:
                      $ref: "#/components/schemas/v1.PackageDiff"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Return list of available updates for a device.
      description: Return list of available updates for a device.
  /updates/device/{DeviceUUID}/image:
    get:
      operationId: GetImageInfo
      parameters:
        - name: DeviceUUID
          in: path
          required: true
          description: DeviceUUID
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
                properties:
                  Image:
                    $ref: "#/components/schemas/v1.Image"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Return image running on device.
      description: Return image running on device.
  /updates/validate:
    post:
      operationId: PostValidateUpdate
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/v1.Image"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ValidateUpdateResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Validate if the images selection could be updated.
      description: Validate if the images selection could be updated.
  /devices:
    get:
      operationId: getDevices
      parameters:
        - name: per_page
          in: query
          description: "field: maximum devices per page"
          schema:
            type: integer
        - name: page
          in: query
          description: "field: which page to query from"
          schema:
            type: integer
        - name: order_by
          in: query
          description: "field: order by display_name, updated or operating_system"
          schema:
            type: string
        - name: order_how
          in: query
          description: "field: choose to order ASC or DESC"
          schema:
            type: string
        - name: hostname_or_id
          in: query
          description: 'field: filter by hostname_or_id'
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.DeviceDetailsList"
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
  /devices/devicesview:
    get:
      operationId: getDevicesView
      parameters:
        - name: sort_by
          in: query
          description: "fields: name, uuid, update_available, image_id. To sort DESC use - before the fields."
          schema:
            type: string
        - name: name
          in: query
          description: "field: filter by name"
          schema:
            type: string
        - name: update_available
          in: query
          description: "field: filter by update_available"
          schema:
            type: boolean
        - name: uuid
          in: query
          description: 'field: filter by uuid'
          schema:
            type: string
        - name: created_at
          in: query
          description: 'field: filter by creation date'
          schema:
            type: string
        - name: image_id
          in: query
          description: 'field: filter by image id'
          schema:
            type: string
        - name: limit
          in: query
          description: "field: return number of devices until limit is reached. Default is 100."
          schema:
            type: integer
        - name: offset
          in: query
          description: "field: return number of devices begining at the offset."
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
               schema:
                properties:
                  count:
                    example: 100
                    type: integer
                  data:
                    $ref: '#/components/schemas/v1.DeviceViewList'
                type: object
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
  /devices/{DeviceUUID}:
    get:
      operationId: getDevice
      parameters:
        - name: DeviceUUID
          in: path
          required: true
          description: DeviceUUID
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.DeviceDetails"
          description: OK
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: The device was not found.
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Get a device by UUID.
  /image-sets:
    get:
      operationId: ListAllImageSets
      parameters:
        - name: sort_by
          in: query
          description: "Define sort fields: Created_at, Name, Status. To sort DESC use -"
          schema:
            type: string
        - name: name
          in: query
          description: "field: filter by name"
          schema:
            type: string
        - name: status
          in: query
          description: "field: filter by status"
          schema:
            type: string
        - name: limit
          in: query
          description: "field: return number of image-sets until limit is reached. Default is 100."
          schema:
            type: integer
        - name: offset
          in: query
          description: "field: return number of image-sets begining at the offset."
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
                properties:
                  Count:
                    type: integer
                    example: 100
                  Data:
                    type: array
                    items:
                      $ref: "#/components/schemas/v1.ImageSetInstallerURL"
          description: OK
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: The Image Set was not found.
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Return the list of image sets.
  /image-sets/view:
    get:
      operationId: GetImageSetsView
      parameters:
        - name: sort_by
          in: query
          description: "Define sort fields: created_at, name. To sort DESC use -"
          schema:
            type: string
        - name: name
          in: query
          description: "field: filter by name"
          schema:
            type: string
        - name: status
          in: query
          description: "field: filter by status"
          schema:
            type: string
        - name: limit
          in: query
          description: "field: return number of image-set view until limit is reached. Default is 30."
          schema:
            type: integer
        - name: offset
          in: query
          description: "field: return number of image-set view beginning at the offset."
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    example: 100
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/v1.ImageSetView"
          description: OK
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Return the list of image set view.
  /image-sets/view/{image_set_id}:
    get:
      operationId: GetImageSetViewByID
      parameters:
        - name: image_set_id
          in: path
          required: true
          description: the image-set id
          schema:
            type: integer
        - name: sort_by
          in: query
          description: "Define sort fields: created_at, version, To sort DESC use -"
          schema:
            type: string
        - name: status
          in: query
          description: "field: filter by status"
          schema:
            type: string
        - name: version
          in: query
          description: 'field: filter by version'
          schema:
            type: string
        - name: limit
          in: query
          description: "field: return number of images until limit is reached. Default is 100."
          schema:
            type: integer
        - name: offset
          in: query
          description: "field: return number of images beginning at the offset."
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ImageSetIDView"
          description: OK
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: The Image-Set was not found.
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Return the image-set description view.
  /image-sets/view/{image_set_id}/versions:
    get:
      operationId: GetAllImageSetImagesView
      parameters:
        - name: image_set_id
          in: path
          required: true
          description: the image-set id
          schema:
            type: integer
        - name: sort_by
          in: query
          description: "Define sort fields: created_at, version, To sort DESC use -"
          schema:
            type: string
        - name: status
          in: query
          description: "field: filter by status"
          schema:
            type: string
        - name: version
          in: query
          description: 'field: filter by version'
          schema:
            type: string
        - name: limit
          in: query
          description: "field: return number of images until limit is reached. Default is 100."
          schema:
            type: integer
        - name: offset
          in: query
          description: "field: return number of images beginning at the offset."
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ImagesViewData"
          description: OK
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: The Image-Set was not found.
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Return the image-set images view list.
  /image-sets/view/{image_set_id}/versions/{image_id}:
    get:
      operationId: GetImageSetImageView
      parameters:
        - name: image_set_id
          in: path
          required: true
          description: the image-set id
          schema:
            type: integer
        - name: image_id
          in: path
          required: true
          description: the image id
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ImageSetImageIDView"
          description: OK
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: The Image-Set or Image was not found.
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Return the image-set images view list.
  /image-sets/{ImageSetId}:
    get:
      operationId: GetImageSetsByID
      parameters:
        - name: ImageSetId
          in: path
          required: true
          description: ImageSetId
          schema:
            type: integer
        - name: sort_by
          in: query
          description: "Define sort fields: Created_at, Name, Status. To sort DESC use -"
          schema:
            type: string
        - name: name
          in: query
          description: "field: filter by name"
          schema:
            type: string
        - name: status
          in: query
          description: "field: filter by status"
          schema:
            type: string
        - name: version
          in: query
          description: 'field: filter by version'
          schema:
            type: string
        - name: limit
          in: query
          description: "field: return number of images until limit is reached. Default is 100."
          schema:
            type: integer
        - name: offset
          in: query
          description: "field: return number of images begining at the offset."
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
                properties:
                  Count:
                    type: integer
                    example: 100
                  Data:
                    $ref: "#/components/schemas/v1.ImageSetImagePackages"
          description: OK
  /images/checkImageName:
    post:
      operationId: checkImageName
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1.Image"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.CheckImageResponse"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Check if image name is in use for current account
  /thirdpartyrepo:
    post:
      operationId: CreateThirdPartyRepo
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v1.ThirdPartyRepo'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.ThirdPartyRepo'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.BadRequest'
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.InternalServerError'
          description: There was an internal server error.
      summary: Create Third Party Repository for an account.
    get:
      operationId: GetAllThirdPartyRepo
      parameters:
        - name: sort_by
          in: query
          description: "fields: created_at, name, updated_at. To sort DESC use - before the fields."
          schema:
            type: string
        - name: name
          in: query
          description: "field: filter by name"
          schema:
            type: string
        - name: created_at
          in: query
          description: 'field: filter by creation date'
          schema:
            type: string
        - name: updated_at
          in: query
          description: 'field: filter by update date'
          schema:
            type: string
        - name: limit
          in: query
          description: 'field: return number of repositories until limit is reached.'
          schema:
            type: integer
        - name: offset
          in: query
          description: 'field: return number of repositories beginning at the offset.'
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    example: 100
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/v1.ThirdPartyRepo'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.BadRequest'
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.InternalServerError'
          description: There was an internal server error.
      summary: Lists all Third Party Repository for an account.
  /thirdpartyrepo/checkName/{name}:
    get:
      summary: Checks to see if a ThirdParty repo Name exists.
      operationId: CheckThirdPartyRepoName
      parameters:
        - name: name
          in: path
          required: true
          description: ThirdParty repo Name
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      isValid:
                        type: boolean
        "400":
          description: The request sent couldn't be processed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
        "500":
          description: There was an internal server error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
  /thirdpartyrepo/{ID}:
    get:
      operationId: GetThirdPartyRepoByID
      parameters:
        - name: ID
          in: path
          required: true
          description: An unique existing third party repository id.
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.ThirdPartyRepo'
          description: OK
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: third party repository was not found.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.InternalServerError'
          description: There was an internal server error.
      summary: Get third party repository by id.
    put:
      operationId: CreateThirdPartyRepoUpdate
      parameters:
        - name: ID
          in: path
          required: true
          description: An unique existing third party repository id.
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1.ThirdPartyRepo"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ThirdPartyRepo"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Creates an Update for third party repository
    delete:
      operationId: DeleteThirdPartyRepoByID
      parameters:
        - name: ID
          in: path
          required: true
          description: An unique existing third party repository id.
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ThirdPartyRepo"
          description: OK
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: third party repository was not found.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.InternalServerError'
          description: There was an internal server error.
      summary: Delete third party repository using id.
  /fdo/ownership_voucher:
    post:
      operationId: CreateOwnershipVouchers
      requestBody:
        description: CBOR encoding of the ownership vouchers.
        required: true
        content:
          application/cbor:
            schema:
              type: object
      responses:
        "201":
          content:
            application/json:
              schema:
                type: object
                properties:
                  guid:
                    type: string
                    description: FDO GUID for the device.
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.BadRequest'
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.InternalServerError'
          description: There was an internal server error.
      summary: Upload ownership vouchers.
  /fdo/ownership_voucher/delete:
    post:
      operationId: DeleteOwnershipVouchers
      requestBody:
        description: list of GUIDs for which the Ownership Vouchers should get deleted.
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.BadRequest'
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.InternalServerError'
          description: There was an internal server error.
      summary: Delete ownership vouchers.
  /fdo/ownership_voucher/parse:
    post:
      operationId: ParseOwnershipVouchers
      requestBody:
        description: CBOR encoding of the ownership vouchers.
        required: true
        content:
          application/cbor:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.OwnershipVoucherData'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.BadRequest'
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.InternalServerError'
          description: There was an internal server error.
      summary: Parse ownership vouchers.
  /fdo/ownership_voucher/connect:
    post:
      operationId: ConnectDevices
      requestBody:
        description: list of GUIDs for which the Ownership Vouchers should get deleted.
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.BadRequest'
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.InternalServerError'
          description: There was an internal server error.
      summary: Connect devices by their GUIDs.
  /device-groups:
     get:
       operationId: GetAllDeviceGroups
       parameters:
         - name: sort_by
           in: query
           description: "fields: created_at, name, updated_at. To sort DESC use - before the fields."
           schema:
             type: string
         - name: name
           in: query
           description: "field: filter by name"
           schema:
             type: string
         - name: created_at
           in: query
           description: "field: filter by create date"
           schema:
             type: string
         - name: updated_at
           in: query
           description: "field: filter by update date"
           schema:
             type: string
         - name: limit
           in: query
           description: 'field: return number of groups until limit is reached.'
           schema:
             type: integer
         - name: offset
           in: query
           description: 'field: return number of groups beginning at the offset.'
           schema:
             type: integer
       responses:
         "200":
           content:
             application/json:
               schema:
                 type: object
                 properties:
                   count:
                     type: integer
                     example: 100
                   data:
                     type: array
                     items:
                       $ref: '#/components/schemas/v1.DeviceGroupListDetail'
           description: OK
         "400":
           content:
             application/json:
               schema:
                 $ref: '#/components/schemas/v1.BadRequest'
           description: The request sent couldn't be processed.
         "500":
           content:
             application/json:
               schema:
                 $ref: '#/components/schemas/v1.InternalServerError'
           description: There was an internal server error.
     post:
      operationId: CreateDeviceGroup
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v1.DeviceGroup'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.DeviceGroup'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.BadRequest'
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1.InternalServerError'
          description: There was an internal server error.
      summary: Create Device Group for an account.
  /device-groups/{ID}:
    get:
      operationId: GetDeviceGroupByID
      parameters:
        - name: ID
          in: path
          required: true
          description: Device Group Id
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.DeviceGroup"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Get an device group by id.
    delete:
      operationId: DeleteDeviceGroupByID
      parameters:
        - name: ID
          in: path
          required: true
          description: Device Group Id
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.DeviceGroup"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: device group not found or devices not found.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Delete device group by id.
    put:
      operationId: UpdateDeviceGroup
      parameters:
        - name: ID
          in: path
          required: true
          description: An unique existing device group id.
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1.DeviceGroup"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.DeviceGroup"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Creates an Update for device group
  /device-groups/checkName/{name}:
    get:
      operationId: CheckGroupName
      parameters:
        - name: name
          in: path
          required: true
          description: Group name
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      isValid: 
                        type: boolean
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Checks to see if a group name exists for an account.
  /device-groups/{ID}/details:
    get:
      operationId: GetDeviceGroupDetailsByID
      parameters:
        - name: ID
          in: path
          required: true
          description: Device Group Id
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.DeviceGroupDetails"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Get an device group by id.
  /device-groups/{ID}/view:
    get:
      operationId: GetDeviceGroupDetailsByIDView
      parameters:
        - name: ID
          in: path
          required: true
          description: Device Group Id
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.DeviceGroupDetailsView"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Get an device group by id.    
  /device-groups/{ID}/devices:
    post:
      operationId: AddDeviceGroupDevices
      parameters:
        - name: ID
          in: path
          required: true
          description: Device Group Id
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1.DeviceGroup"
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/v1.Device"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: device group not found or devices not found.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Add devices to device group.
    delete:
      operationId: DeleteDeviceGroupDevices
      parameters:
        - name: ID
          in: path
          required: true
          description: Device Group Id
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1.DeviceGroup"
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/v1.Device"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: device group not found or devices not found.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Remove devices from device-group.
  /device-groups/{ID}/devices/{DEVICE_ID}:
    delete:
      operationId: DeleteDeviceGroupDevice
      parameters:
        - name: ID
          in: path
          required: true
          description: Device Group Id
          schema:
            type: integer
        - name: DEVICE_ID
          in: path
          required: true
          description: Device Id
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.Device"
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: device group not found or device not found.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Remove device from device-group.
  /device-groups/{ID}/updateDevices:
    post:
      operationId: UpdateAllDevicesFromGroup
      parameters:
        - name: ID
          in: path
          required: true
          description: Device Group Id
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/v1.UpdateTransaction'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: devices not found.
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.InternalServerError"
          description: There was an internal server error.
      summary: Update devices from group.
  /storage/isos/{installerID}:
    get:
      operationId: GetInstallerIsoStorageContent
      parameters:
        - name: installerID
          in: path
          required: true
          description: Installer ID
          schema:
            type: integer
      responses:
        "303":
          description: Redirect to actual stored iso file
          content:
            application/octet-stream: {}
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: installer not found.
  /storage/update-repos/{updateTransactionID}/{repoFilePath}:
    get:
      summary: Return the update transaction repository content located at repoFilePath from root repository
      operationId: GetDeviceRepoFile
      parameters:
        - name: updateTransactionID
          in: path
          required: true
          description: Update Transaction ID
          schema:
            type: integer
            example: 120
        - name: repoFilePath
          in: path
          required: true
          description: the ostree repository file location
          schema:
            type: string
            example: refs/heads/rhel/8/x86_64/edge
      responses:
        "200":
          description: return the content of the repo file path
          content:
            application/octet-stream: {}
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: repository file not found.
  /storage/update-repos/{updateTransactionID}/content/{repoFilePath}:
    get:
      summary: Redirect to signed URL of the update transaction repository content located at repoFilePath from root repository
      operationId: GetDeviceRepoFileContent
      parameters:
        - name: updateTransactionID
          in: path
          required: true
          description: Update Transaction ID
          schema:
            type: integer
            example: 120
        - name: repoFilePath
          in: path
          required: true
          description: the ostree repository file location
          schema:
            type: string
            example: refs/heads/rhel/8/x86_64/edge
      responses:
        "303":
          description: Redirect to actual stored iso file
          content:
            application/octet-stream: {}
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.BadRequest"
          description: The request sent couldn't be processed.
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.NotFound"
          description: repository file not found.
